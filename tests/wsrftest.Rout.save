
R version 3.0.2 (2013-09-25) -- "Frisbee Sailing"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> suppressMessages(library(wsrf))
> suppressMessages(library(rattle))
> suppressMessages(library(randomForest))
> 
> # prepare parameters
> ds <- get("weather")
> dim(ds)
[1] 366  24
> names(ds)
 [1] "Date"          "Location"      "MinTemp"       "MaxTemp"      
 [5] "Rainfall"      "Evaporation"   "Sunshine"      "WindGustDir"  
 [9] "WindGustSpeed" "WindDir9am"    "WindDir3pm"    "WindSpeed9am" 
[13] "WindSpeed3pm"  "Humidity9am"   "Humidity3pm"   "Pressure9am"  
[17] "Pressure3pm"   "Cloud9am"      "Cloud3pm"      "Temp9am"      
[21] "Temp3pm"       "RainToday"     "RISK_MM"       "RainTomorrow" 
> target <- "RainTomorrow"
> id     <- c("Date", "Location")
> risk   <- "RISK_MM"
> ignore <- c(id, if (exists("risk")) risk) 
> vars   <- setdiff(names(ds), ignore)
> if (sum(is.na(ds[vars]))) ds[vars] <- na.roughfix(ds[vars])
> ds[target] <- as.factor(ds[[target]])
> (tt <- table(ds[target]))

 No Yes 
300  66 
> form <- as.formula(paste(target, "~ ."))
> set.seed(42)
> train <- sample(nrow(ds), 0.7*nrow(ds))
> test <- setdiff(seq_len(nrow(ds)), train)
> 
> # build model
> model.wsrf.1 <- wsrf(form, data=ds[train, vars])
> 
> # evaluate
> cl <- predict(model.wsrf.1, newdata=ds[test, vars], type="response")
> actual <- ds[test, target]
> 
> proc.time()
   user  system elapsed 
  3.360   0.072   3.433 
